{"version":3,"sources":["Components/Searchbar/Searchbar.module.css","Components/Searchbar/Searchbar.jsx","services/image-finder-api.js","Components/Button/Button.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Modal/Modal.jsx","App.js","index.js"],"names":["module","exports","SearchBar","state","inputValue","inputHandler","e","setState","target","value","submitForm","preventDefault","props","onSubmit","className","Searchbar","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","name","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","options","query","page","url","perPage","key","axios","get","then","data","hits","useStyles","createUseStyles","container","display","textAlign","button","padding","borderRadius","backgroundColor","transition","color","border","textDecoration","cursor","fontFamily","fontSize","fontStyle","fontWeight","minWidth","boxShadow","Button","label","onClick","classes","imageGalleryItem","imageGalleryItemImage","width","height","objectFit","transform","ImageGalleryItem","images","getImageIdx","map","id","webformatURL","largeImageURL","tags","src","alt","data-src","imageGallery","maxWidth","gridTemplateColumns","gridGap","margin","top","bottom","left","right","listStyle","ImageGallery","children","length","overlay","position","justifyContent","alignItems","zIndex","modal","maxHeight","overflow","Modal","activeimage","App","searchQuery","activeImage","activeModal","loading","scrollValue","setDefaultState","findImages","pixabayAPI","filteredHits","spinnerToggle","catch","console","log","finally","getMoreImages","prevState","submitHandler","modalToggle","activeImageHandler","dataset","modalCloseHandler","currentTarget","prevProps","list","document","querySelector","scrollHeight","scrollTop","snapshot","window","scrollTo","behavior","override","css","size","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.88b77929.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1dOgh\",\"SearchForm\":\"Searchbar_SearchForm__L3jQS\",\"SearchFormButton\":\"Searchbar_SearchFormButton__xGyS9\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3Iap9\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2BcMb\"};","import { Component } from 'react';\nimport {\n    Searchbar,\n    SearchForm,\n    SearchFormButton,\n    SearchFormButtonLabel,\n    SearchFormInput,\n} from './Searchbar.module.css';\n\nclass SearchBar extends Component {\n    state = {\n        inputValue: '',\n    };\n\n    inputHandler = e => {\n        this.setState({ inputValue: e.target.value });\n    };\n\n    submitForm = e => {\n        e.preventDefault();\n        this.props.onSubmit(this.state.inputValue);\n    };\n\n    render() {\n        return (\n            <header className={Searchbar}>\n                <form className={SearchForm} onSubmit={this.submitForm}>\n                    <button type=\"submit\" className={SearchFormButton}>\n                        <span className={SearchFormButtonLabel}></span>\n                    </button>\n                    <input\n                        name=\"input\"\n                        className={SearchFormInput}\n                        type=\"text\"\n                        autoComplete=\"off\"\n                        autoFocus\n                        placeholder=\"Search images and photos\"\n                        onChange={this.inputHandler}\n                    />\n                </form>\n            </header>\n        );\n    }\n}\n\nexport default SearchBar;\n","import axios from 'axios';\n\nconst options = {\n    url: 'https://pixabay.com/api/',\n    perPage: 12,\n    key: '20341451-3d1090cbc297b1fd4b3b8fcd1',\n};\n\nconst fetchImages = (query, page = 1) => {\n    const { url, perPage, key } = options;\n    return axios\n        .get(\n            `${url}?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=${perPage}`,\n        )\n        .then(({ data }) => data.hits);\n};\n\nexport default { fetchImages };\n","import { createUseStyles } from 'react-jss';\r\n\r\nconst useStyles = createUseStyles({\r\n    container: {\r\n        display: 'block',\r\n        // height: 15,\r\n        textAlign: 'center',\r\n        // marginBottom: 10,\r\n    },\r\n    button: {\r\n        padding: '8px 16px',\r\n        borderRadius: 2,\r\n        backgroundColor: '#3f51b5',\r\n        transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1)',\r\n        textAlign: 'center',\r\n        display: 'inline-block',\r\n        color: '#fff',\r\n        border: 0,\r\n        textDecoration: 'none',\r\n        cursor: 'pointer',\r\n        fontFamily: 'inherit',\r\n        fontSize: 18,\r\n        fontStyle: 'normal',\r\n        fontWeight: 500,\r\n        minWidth: 180,\r\n\r\n        boxShadow:\r\n            '0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)',\r\n        '&:hover': { backgroundColor: '#303f9f' },\r\n        '&:focus': { backgroundColor: '#303f9f' },\r\n    },\r\n});\r\n\r\nconst Button = ({ label = 'Load more', onClick }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.container}>\r\n            <button type=\"button\" className={classes.button} onClick={onClick}>\r\n                {label}\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Button;\r\n","import { createUseStyles } from 'react-jss';\r\n\r\nconst useStyles = createUseStyles({\r\n    imageGalleryItem: {\r\n        borderRadius: 2,\r\n        boxShadow:\r\n            '0px 1px 3px 0px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12)',\r\n    },\r\n\r\n    imageGalleryItemImage: {\r\n        width: '100%',\r\n        height: 260,\r\n        objectFit: 'cover',\r\n        transition: 'transform 250ms cubic-bezier(0.4, 0, 0.2, 1)',\r\n        '&:hover': {\r\n            transform: 'scale(1.03)',\r\n            cursor: 'zoom-in',\r\n        },\r\n    },\r\n});\r\n\r\nconst ImageGalleryItem = ({ images, getImageIdx }) => {\r\n    const classes = useStyles();\r\n    return images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <li className={classes.imageGalleryItem} key={id}>\r\n            <img\r\n                src={webformatURL}\r\n                alt={tags}\r\n                data-src={largeImageURL}\r\n                className={classes.imageGalleryItemImage}\r\n                onClick={getImageIdx}\r\n            />\r\n        </li>\r\n    ));\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import { createUseStyles } from 'react-jss';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nconst useStyles = createUseStyles({\r\n    imageGallery: {\r\n        display: 'grid',\r\n        maxWidth: 'calc(100vw - 48px)',\r\n        gridTemplateColumns: 'repeat(auto-fill, minmax(320px, 1fr))',\r\n        gridGap: 15,\r\n        margin: { top: 0, bottom: 0, left: 'auto', right: 'auto' },\r\n        padding: 0,\r\n        listStyle: 'none',\r\n    },\r\n});\r\n\r\nconst ImageGallery = ({ images, children, getImageIdx }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        images.length > 0 && (\r\n            <>\r\n                <ul className={classes.imageGallery}>\r\n                    <ImageGalleryItem\r\n                        images={images}\r\n                        getImageIdx={getImageIdx}\r\n                    />\r\n                </ul>\r\n                {children}\r\n            </>\r\n        )\r\n    );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import { createUseStyles } from 'react-jss';\n\nconst useStyles = createUseStyles({\n    overlay: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100vw',\n        height: '100vh',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n        zIndex: 1200,\n        padding: { top: 50, bottom: 50 },\n    },\n\n    modal: {\n        maxWidth: 1280,\n        maxHeight: 'auto',\n        overflow: 'hidden',\n    },\n});\n\nconst Modal = ({ activeimage, onClick }) => {\n    const classes = useStyles();\n    return (\n        <div className={classes.overlay} onClick={onClick}>\n            <div className={classes.modal}>\n                <img src={activeimage} alt=\"asd\" />\n            </div>\n        </div>\n    );\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport { css } from '@emotion/core';\nimport PropagateLoader from 'react-spinners/PropagateLoader';\nimport SearchBar from './Components/Searchbar';\nimport pixabayAPI from './services/image-finder-api';\nimport Button from './Components/Button';\nimport ImageGallery from './Components/ImageGallery';\nimport Modal from './Components/Modal';\n\nclass App extends Component {\n    state = {\n        images: [],\n        searchQuery: '',\n        page: 1,\n        activeImage: '',\n        activeModal: false,\n        loading: false,\n        scrollValue: 0,\n    };\n\n    getSnapshotBeforeUpdate(prevProps, prevState) {\n        if (prevState.images.length < this.state.images.length) {\n            const list = document.querySelector('.App');\n            return list.scrollHeight - list.scrollTop;\n        }\n        return null;\n    }\n\n    componentDidUpdate(prevState, prevProps, snapshot) {\n        if (prevProps.searchQuery !== this.state.searchQuery) {\n            this.findImages();\n        }\n\n        if (snapshot !== null) {\n            window.scrollTo({\n                top: snapshot - 105,\n                behavior: 'smooth',\n            });\n        }\n    }\n\n    setDefaultState = () => {\n        this.setState({\n            images: [],\n            searchQuery: '',\n            page: 1,\n            activeImage: '',\n            activeModal: false,\n            loading: false,\n            scrollValue: 0,\n        });\n    };\n    findImages = () => {\n        pixabayAPI\n            .fetchImages(this.state.searchQuery, this.state.page)\n            .then(hits => {\n                const filteredHits = hits.map(\n                    ({ id, webformatURL, largeImageURL, tags }) => ({\n                        id,\n                        webformatURL,\n                        largeImageURL,\n                        tags,\n                    }),\n                );\n                this.setState({\n                    images: [...filteredHits],\n                    page: this.state.page + 1,\n                });\n                this.spinnerToggle();\n            })\n            .catch(console.log)\n            .finally(this.spinnerToggle());\n    };\n\n    getMoreImages = () => {\n        const { searchQuery, page } = this.state;\n\n        pixabayAPI\n            .fetchImages(searchQuery, page)\n            .then(hits => {\n                const filteredHits = hits.map(\n                    ({ id, webformatURL, largeImageURL, tags }) => ({\n                        id,\n                        webformatURL,\n                        largeImageURL,\n                        tags,\n                    }),\n                );\n                this.setState(prevState => ({\n                    images: [...prevState.images, ...filteredHits],\n                    page: page + 1,\n                }));\n                this.spinnerToggle();\n            })\n            .catch(console.log)\n            .finally(this.spinnerToggle());\n    };\n\n    submitHandler = inputValue => {\n        if (this.state.searchQuery !== inputValue) {\n            this.setDefaultState();\n            this.setState({ searchQuery: inputValue });\n        }\n    };\n\n    spinnerToggle = () => {\n        this.setState(prevState => {\n            return { loading: !prevState.loading };\n        });\n    };\n\n    modalToggle = () => {\n        this.setState(prevState => ({ activeModal: !prevState.activeModal }));\n    };\n    activeImageHandler = e => {\n        this.setState({ activeImage: e.target.dataset.src });\n        this.modalToggle();\n    };\n\n    modalCloseHandler = e => {\n        e.target === e.currentTarget && this.modalToggle();\n    };\n\n    render() {\n        const override = css`\n            display: block;\n            margin: 0 auto;\n            border-color: red;\n        `;\n        const { loading, images, activeImage, activeModal } = this.state;\n        return (\n            <div className=\"App\">\n                <SearchBar onSubmit={this.submitHandler} />\n                {loading && images.length === 0 && (\n                    <PropagateLoader\n                        css={override}\n                        size={20}\n                        color={'#3f51b5'}\n                    />\n                )}\n                <ImageGallery\n                    images={images}\n                    getImageIdx={this.activeImageHandler}\n                >\n                    {loading ? (\n                        <PropagateLoader\n                            css={override}\n                            size={20}\n                            color={'#3f51b5'}\n                        />\n                    ) : (\n                        <Button onClick={this.getMoreImages} />\n                    )}\n                </ImageGallery>\n                {activeModal && (\n                    <Modal\n                        activeimage={activeImage}\n                        onClick={this.modalCloseHandler}\n                    />\n                )}\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize';\nimport './styles/common.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}