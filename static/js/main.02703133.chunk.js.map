{"version":3,"sources":["Components/Searchbar/Searchbar.module.css","services/image-finder-api.js","Components/Searchbar/Searchbar.jsx","Components/Button/Button.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Modal/Modal.jsx","App.js","index.js"],"names":["module","exports","options","query","page","url","perPage","key","axios","get","then","data","hits","SearchBar","state","inputValue","inputHandler","e","setState","target","value","submitForm","preventDefault","props","onSubmit","className","Searchbar","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","name","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","useStyles","createUseStyles","container","display","textAlign","button","padding","borderRadius","backgroundColor","transition","color","border","textDecoration","cursor","fontFamily","fontSize","fontStyle","fontWeight","minWidth","boxShadow","Button","label","onClick","classes","imageGalleryItem","imageGalleryItemImage","width","height","objectFit","transform","ImageGalleryItem","images","getImageIdx","map","id","webformatURL","largeImageURL","tags","src","alt","data-src","imageGallery","maxWidth","gridTemplateColumns","gridGap","margin","top","bottom","left","right","listStyle","ImageGallery","children","length","overlay","position","justifyContent","alignItems","zIndex","modal","maxHeight","overflow","Modal","activeimage","App","searchQuery","activeImage","activeModal","loading","scrollValue","setDefaultState","findImages","pixabayAPI","filteredHits","spinnerToggle","catch","console","log","finally","getMoreImages","prevState","submitHandler","modalToggle","activeImageHandler","dataset","modalCloseHandler","currentTarget","prevProps","list","document","querySelector","scrollHeight","scrollTop","snapshot","window","scrollTo","behavior","override","css","size","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.02703133.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1dOgh\",\"SearchForm\":\"Searchbar_SearchForm__L3jQS\",\"SearchFormButton\":\"Searchbar_SearchFormButton__xGyS9\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3Iap9\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2BcMb\"};","import axios from 'axios';\n\nconst options = {\n    url: 'https://pixabay.com/api/',\n    perPage: 12,\n    key: '20341451-3d1090cbc297b1fd4b3b8fcd1',\n};\n\nconst fetchImages = (query, page) => {\n    const { url, perPage, key } = options;\n    return axios\n        .get(\n            `${url}?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=${perPage}`,\n        )\n        .then(({ data }) => data.hits);\n};\n\nexport default { fetchImages };\n","import { Component } from 'react';\nimport {\n    Searchbar,\n    SearchForm,\n    SearchFormButton,\n    SearchFormButtonLabel,\n    SearchFormInput,\n} from './Searchbar.module.css';\n\nclass SearchBar extends Component {\n    state = {\n        inputValue: '',\n    };\n\n    inputHandler = e => {\n        this.setState({ inputValue: e.target.value });\n    };\n\n    submitForm = e => {\n        e.preventDefault();\n        this.props.onSubmit(this.state.inputValue);\n    };\n\n    render() {\n        return (\n            <header className={Searchbar}>\n                <form className={SearchForm} onSubmit={this.submitForm}>\n                    <button type=\"submit\" className={SearchFormButton}>\n                        <span className={SearchFormButtonLabel}></span>\n                    </button>\n                    <input\n                        name=\"input\"\n                        className={SearchFormInput}\n                        type=\"text\"\n                        autoComplete=\"off\"\n                        autoFocus\n                        placeholder=\"Search images and photos\"\n                        onChange={this.inputHandler}\n                    />\n                </form>\n            </header>\n        );\n    }\n}\n\nexport default SearchBar;\n","import { createUseStyles } from 'react-jss';\n\nconst useStyles = createUseStyles({\n    container: {\n        display: 'block',\n        textAlign: 'center',\n    },\n    button: {\n        padding: '8px 16px',\n        borderRadius: 2,\n        backgroundColor: '#3f51b5',\n        transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1)',\n        textAlign: 'center',\n        display: 'inline-block',\n        color: '#fff',\n        border: 0,\n        textDecoration: 'none',\n        cursor: 'pointer',\n        fontFamily: 'inherit',\n        fontSize: 18,\n        fontStyle: 'normal',\n        fontWeight: 500,\n        minWidth: 180,\n\n        boxShadow:\n            '0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)',\n        '&:hover': { backgroundColor: '#303f9f' },\n        '&:focus': { backgroundColor: '#303f9f' },\n    },\n});\n\nconst Button = ({ label = 'Load more', onClick }) => {\n    const classes = useStyles();\n    return (\n        <div className={classes.container}>\n            <button type=\"button\" className={classes.button} onClick={onClick}>\n                {label}\n            </button>\n        </div>\n    );\n};\n\nexport default Button;\n","import { createUseStyles } from 'react-jss';\r\n\r\nconst useStyles = createUseStyles({\r\n    imageGalleryItem: {\r\n        borderRadius: 2,\r\n        boxShadow:\r\n            '0px 1px 3px 0px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12)',\r\n    },\r\n\r\n    imageGalleryItemImage: {\r\n        width: '100%',\r\n        height: 260,\r\n        objectFit: 'cover',\r\n        transition: 'transform 250ms cubic-bezier(0.4, 0, 0.2, 1)',\r\n        '&:hover': {\r\n            transform: 'scale(1.03)',\r\n            cursor: 'zoom-in',\r\n        },\r\n    },\r\n});\r\n\r\nconst ImageGalleryItem = ({ images, getImageIdx }) => {\r\n    const classes = useStyles();\r\n    return images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <li className={classes.imageGalleryItem} key={id}>\r\n            <img\r\n                src={webformatURL}\r\n                alt={tags}\r\n                data-src={largeImageURL}\r\n                className={classes.imageGalleryItemImage}\r\n                onClick={getImageIdx}\r\n            />\r\n        </li>\r\n    ));\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import { createUseStyles } from 'react-jss';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nconst useStyles = createUseStyles({\r\n    imageGallery: {\r\n        display: 'grid',\r\n        maxWidth: 'calc(100vw - 48px)',\r\n        gridTemplateColumns: 'repeat(auto-fill, minmax(320px, 1fr))',\r\n        gridGap: 15,\r\n        margin: { top: 0, bottom: 0, left: 'auto', right: 'auto' },\r\n        padding: 0,\r\n        listStyle: 'none',\r\n    },\r\n});\r\n\r\nconst ImageGallery = ({ images, children, getImageIdx }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        images.length > 0 && (\r\n            <>\r\n                <ul className={classes.imageGallery}>\r\n                    <ImageGalleryItem\r\n                        images={images}\r\n                        getImageIdx={getImageIdx}\r\n                    />\r\n                </ul>\r\n                {children}\r\n            </>\r\n        )\r\n    );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import { createUseStyles } from 'react-jss';\n\nconst useStyles = createUseStyles({\n    overlay: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100vw',\n        height: '100vh',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n        zIndex: 1200,\n        padding: { top: 50, bottom: 50 },\n    },\n\n    modal: {\n        maxWidth: 1280,\n        maxHeight: 'auto',\n        overflow: 'hidden',\n    },\n});\n\nconst Modal = ({ activeimage, onClick }) => {\n    const classes = useStyles();\n    return (\n        <div className={classes.overlay} onClick={onClick}>\n            <div className={classes.modal}>\n                <img src={activeimage} alt=\"asd\" />\n            </div>\n        </div>\n    );\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport { css } from '@emotion/core';\nimport PropagateLoader from 'react-spinners/PropagateLoader';\nimport pixabayAPI from './services/image-finder-api';\nimport SearchBar from './Components/Searchbar';\nimport Button from './Components/Button';\nimport ImageGallery from './Components/ImageGallery';\nimport Modal from './Components/Modal';\n\nclass App extends Component {\n    state = {\n        images: [],\n        searchQuery: '',\n        page: 1,\n        activeImage: '',\n        activeModal: false,\n        loading: false,\n        scrollValue: 0,\n    };\n\n    getSnapshotBeforeUpdate(prevProps, prevState) {\n        if (prevState.images.length < this.state.images.length) {\n            const list = document.querySelector('.App');\n            return list.scrollHeight - list.scrollTop;\n        }\n        return null;\n    }\n\n    componentDidUpdate(prevState, prevProps, snapshot) {\n        if (prevProps.searchQuery !== this.state.searchQuery) {\n            this.findImages();\n        }\n\n        if (snapshot !== null) {\n            window.scrollTo({\n                top: snapshot - 105,\n                behavior: 'smooth',\n            });\n        }\n    }\n\n    setDefaultState = () => {\n        this.setState({\n            images: [],\n            searchQuery: '',\n            page: 1,\n            activeImage: '',\n            activeModal: false,\n            loading: false,\n            scrollValue: 0,\n        });\n    };\n    findImages = () => {\n        this.state.searchQuery &&\n            pixabayAPI\n                .fetchImages(this.state.searchQuery, this.state.page)\n                .then(hits => {\n                    const filteredHits = hits.map(\n                        ({ id, webformatURL, largeImageURL, tags }) => ({\n                            id,\n                            webformatURL,\n                            largeImageURL,\n                            tags,\n                        }),\n                    );\n                    this.setState({\n                        images: [...filteredHits],\n                        page: this.state.page + 1,\n                    });\n                    this.spinnerToggle();\n                })\n                .catch(console.log)\n                .finally(this.spinnerToggle());\n    };\n\n    getMoreImages = () => {\n        const { searchQuery, page } = this.state;\n\n        pixabayAPI\n            .fetchImages(searchQuery, page)\n            .then(hits => {\n                const filteredHits = hits.map(\n                    ({ id, webformatURL, largeImageURL, tags }) => ({\n                        id,\n                        webformatURL,\n                        largeImageURL,\n                        tags,\n                    }),\n                );\n                this.setState(prevState => ({\n                    images: [...prevState.images, ...filteredHits],\n                    page: page + 1,\n                }));\n                this.spinnerToggle();\n            })\n            .catch(console.log)\n            .finally(this.spinnerToggle());\n    };\n\n    submitHandler = inputValue => {\n        if (this.state.searchQuery !== inputValue) {\n            this.setDefaultState();\n            this.setState({ searchQuery: inputValue });\n        }\n    };\n\n    spinnerToggle = () => {\n        this.setState(prevState => {\n            return { loading: !prevState.loading };\n        });\n    };\n\n    modalToggle = () => {\n        this.setState(prevState => ({ activeModal: !prevState.activeModal }));\n    };\n    activeImageHandler = e => {\n        this.setState({ activeImage: e.target.dataset.src });\n        this.modalToggle();\n    };\n\n    modalCloseHandler = e => {\n        e.target === e.currentTarget && this.modalToggle();\n    };\n\n    render() {\n        const override = css`\n            display: block;\n            margin: 0 auto;\n            border-color: red;\n        `;\n        const {\n            loading,\n            images,\n            activeImage,\n            activeModal,\n            searchQuery,\n        } = this.state;\n        return (\n            <div className=\"App\">\n                <SearchBar onSubmit={this.submitHandler} />\n                {loading && images.length === 0 && (\n                    <PropagateLoader\n                        css={override}\n                        size={20}\n                        color={'#3f51b5'}\n                    />\n                )}\n                <ImageGallery\n                    images={images}\n                    getImageIdx={this.activeImageHandler}\n                >\n                    {loading ? (\n                        <PropagateLoader\n                            css={override}\n                            size={20}\n                            color={'#3f51b5'}\n                        />\n                    ) : (\n                        <Button onClick={this.getMoreImages} />\n                    )}\n                </ImageGallery>\n\n                {activeModal && (\n                    <Modal\n                        activeimage={activeImage}\n                        onClick={this.modalCloseHandler}\n                    />\n                )}\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize';\nimport './styles/common.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}