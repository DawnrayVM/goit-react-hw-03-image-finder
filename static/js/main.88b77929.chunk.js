(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1dOgh",SearchForm:"Searchbar_SearchForm__L3jQS",SearchFormButton:"Searchbar_SearchFormButton__xGyS9",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3Iap9",SearchFormInput:"Searchbar_SearchFormInput__2BcMb"}},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var r,n=a(0),o=a.n(n),c=a(25),i=a.n(c),s=a(26),l=a(12),g=a(7),u=a(8),m=a(11),d=a(10),b=a(14),p=a(16),h=a.n(p),f=a(6),x=a(1),j=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={inputValue:""},e.inputHandler=function(t){e.setState({inputValue:t.target.value})},e.submitForm=function(t){t.preventDefault(),e.props.onSubmit(e.state.inputValue)},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(x.jsx)("header",{className:f.Searchbar,children:Object(x.jsxs)("form",{className:f.SearchForm,onSubmit:this.submitForm,children:[Object(x.jsx)("button",{type:"submit",className:f.SearchFormButton,children:Object(x.jsx)("span",{className:f.SearchFormButtonLabel})}),Object(x.jsx)("input",{name:"input",className:f.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.inputHandler})]})})}}]),a}(n.Component),v=a(27),y=a.n(v),S="https://pixabay.com/api/",O=12,I="20341451-3d1090cbc297b1fd4b3b8fcd1",k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=S,r=O,n=I;return y.a.get("".concat(a,"?q=").concat(e,"&page=").concat(t,"&key=").concat(n,"&image_type=photo&orientation=horizontal&per_page=").concat(r)).then((function(e){return e.data.hits}))},w=a(4),C=Object(w.a)({container:{display:"block",textAlign:"center"},button:{padding:"8px 16px",borderRadius:2,backgroundColor:"#3f51b5",transition:"all 250ms cubic-bezier(0.4, 0, 0.2, 1)",textAlign:"center",display:"inline-block",color:"#fff",border:0,textDecoration:"none",cursor:"pointer",fontFamily:"inherit",fontSize:18,fontStyle:"normal",fontWeight:500,minWidth:180,boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)","&:hover":{backgroundColor:"#303f9f"},"&:focus":{backgroundColor:"#303f9f"}}}),F=function(e){var t=e.label,a=void 0===t?"Load more":t,r=e.onClick,n=C();return Object(x.jsx)("div",{className:n.container,children:Object(x.jsx)("button",{type:"button",className:n.button,onClick:r,children:a})})},_=Object(w.a)({imageGalleryItem:{borderRadius:2,boxShadow:"0px 1px 3px 0px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12)"},imageGalleryItemImage:{width:"100%",height:260,objectFit:"cover",transition:"transform 250ms cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"scale(1.03)",cursor:"zoom-in"}}}),L=function(e){var t=e.images,a=e.getImageIdx,r=_();return t.map((function(e){var t=e.id,n=e.webformatURL,o=e.largeImageURL,c=e.tags;return Object(x.jsx)("li",{className:r.imageGalleryItem,children:Object(x.jsx)("img",{src:n,alt:c,"data-src":o,className:r.imageGalleryItemImage,onClick:a})},t)}))},N=Object(w.a)({imageGallery:{display:"grid",maxWidth:"calc(100vw - 48px)",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gridGap:15,margin:{top:0,bottom:0,left:"auto",right:"auto"},padding:0,listStyle:"none"}}),R=function(e){var t=e.images,a=e.children,r=e.getImageIdx,n=N();return t.length>0&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("ul",{className:n.imageGallery,children:Object(x.jsx)(L,{images:t,getImageIdx:r})}),a]})},T=Object(w.a)({overlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:1200,padding:{top:50,bottom:50}},modal:{maxWidth:1280,maxHeight:"auto",overflow:"hidden"}}),U=function(e){var t=e.activeimage,a=e.onClick,r=T();return Object(x.jsx)("div",{className:r.overlay,onClick:a,children:Object(x.jsx)("div",{className:r.modal,children:Object(x.jsx)("img",{src:t,alt:"asd"})})})},H=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={images:[],searchQuery:"",page:1,activeImage:"",activeModal:!1,loading:!1,scrollValue:0},e.setDefaultState=function(){e.setState({images:[],searchQuery:"",page:1,activeImage:"",activeModal:!1,loading:!1,scrollValue:0})},e.findImages=function(){k(e.state.searchQuery,e.state.page).then((function(t){var a=t.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags}}));e.setState({images:Object(l.a)(a),page:e.state.page+1}),e.spinnerToggle()})).catch(console.log).finally(e.spinnerToggle())},e.getMoreImages=function(){var t=e.state,a=t.searchQuery,r=t.page;k(a,r).then((function(t){var a=t.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags}}));e.setState((function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(a)),page:r+1}})),e.spinnerToggle()})).catch(console.log).finally(e.spinnerToggle())},e.submitHandler=function(t){e.state.searchQuery!==t&&(e.setDefaultState(),e.setState({searchQuery:t}))},e.spinnerToggle=function(){e.setState((function(e){return{loading:!e.loading}}))},e.modalToggle=function(){e.setState((function(e){return{activeModal:!e.activeModal}}))},e.activeImageHandler=function(t){e.setState({activeImage:t.target.dataset.src}),e.modalToggle()},e.modalCloseHandler=function(t){t.target===t.currentTarget&&e.modalToggle()},e}return Object(u.a)(a,[{key:"getSnapshotBeforeUpdate",value:function(e,t){if(t.images.length<this.state.images.length){var a=document.querySelector(".App");return a.scrollHeight-a.scrollTop}return null}},{key:"componentDidUpdate",value:function(e,t,a){t.searchQuery!==this.state.searchQuery&&this.findImages(),null!==a&&window.scrollTo({top:a-105,behavior:"smooth"})}},{key:"render",value:function(){var e=Object(b.css)(r||(r=Object(s.a)(["\n            display: block;\n            margin: 0 auto;\n            border-color: red;\n        "]))),t=this.state,a=t.loading,n=t.images,o=t.activeImage,c=t.activeModal;return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(j,{onSubmit:this.submitHandler}),a&&0===n.length&&Object(x.jsx)(h.a,{css:e,size:20,color:"#3f51b5"}),Object(x.jsx)(R,{images:n,getImageIdx:this.activeImageHandler,children:a?Object(x.jsx)(h.a,{css:e,size:20,color:"#3f51b5"}):Object(x.jsx)(F,{onClick:this.getMoreImages})}),c&&Object(x.jsx)(U,{activeimage:o,onClick:this.modalCloseHandler})]})}}]),a}(n.Component);a(65),a(66);i.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(H,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.88b77929.chunk.js.map